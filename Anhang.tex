\appendix

\printglossaries
\printbibliography
\listoffigures
\listoftables
\printacronyms[name=Abkürzungen]

\addchap{JSON Konfigurationsdateien Beispiele}
\paragraph{Beispiel einer Sensor-Konfigurationsdatei \enquote{sensors.json}:}
\begin{jsoncode}
{
	[
		{
			"type": "NI1000",
			"unit": "°C"
		},
		{
			"type": "NTC10K",
			"unit": "°C"
		},
		{
			"type": "PT1000",
			"unit": "°C"
		},
		{
			"type": "0-10V",
			"unit": "mV"
		},
		{
			"type": "LG-NI1000",
			"unit": "°C"
		},
		{
			"type": "standardQBM",
			"unit": "Pa"
		},
		{
			"type": "RPMmax",
			"unit": "1/min"
		}
	]
}
\end{jsoncode}

\paragraph{Beispiel der Geräte-Konfigurationsdateien}
\textbf{\enquote{QBM97XX.json}:}
\begin{jsoncode}
{
	"ports": [
		{
			"port": "P1",
			"register": 5,
			"function_code": 3,
			"units": [
				{
					"unit": "Pa",
					"scaling": 1
				}
			]
		},
		{
			"port": "P2",
			"register": 7,
			"function_code": 3,
			"units": [
				{
					"unit": "Pa",
					"scaling": 1
				}
			]
		},
		{
			"port": "AI1",
			"register": 9,
			"function_code": 3,
			"units": [
				{
					"unit": "°C",
					"scaling": 0.1
				},
				{
					"unit": "mV",
					"scaling": 1
				}
			]
		},
		{
			"port": "AI2",
			"register": 11,
			"function_code": 3,
			"units": [
				{
					"unit": "°C",
					"scaling": 0.1
				},
				{
					"unit": "mV",
					"scaling": 1
				}
			]
		},
		{
			"port": "AO1",
			"register": 27,
			"function_code": 3
		},
		{
			"port": "AO2",
			"register": 57,
			"function_code": 3
		}
	]
}
\end{jsoncode}

\textbf{\enquote{EBM.json}:}
\begin{jsoncode}
{
	"ports": [
		{
			"port": "RPMreal",
			"register": 53264,
			"function_code": 4
		},
		{
			"port": "RPMtarget",
			"register": 53249,
			"function_code": 3
		},
		{
			"port": "RPMmax",
			"register": 53529,
			"function_code": 3,
			"units": [
				{
					"unit": "1/min",
					"scaling": 1
				}
			]
		},
		{
			"port": "Power",
			"register": 53281,
			"function_code": 4
		},
		{
			"port": "Uz",
			"register": 53664,
			"function_code": 3
		},
		{
			"port": "Iz",
			"register": 53665,
			"function_code": 3
		},
		{
			"port": "Volume",
			"register": 53269,
			"function_code": 3
		},
		{
			"port": "EngStatus",
			"register": 53270,
			"function_code": 3
		}
	]
}
\end{jsoncode}


\paragraph{Beispiel einer Haupt-Konfigurationsdatei \enquote{main\_config\_file.json}:}
\begin{jsoncode}
[
	{
		"pages": [
			{
				"title": "Temperaturen",
				"sources": [
					{
						"port": [ {"QBM1": "AI1"} ],
						"description": "AUL. Temperatur"
					},
					{
						"port": [ {"QBM1": "AI2"} ],
						"description": "ZUL. Temperatur"
					},
					{
						"port": [
							{"QBM1": "AI1"},
							{"QBM1": "AI2"},
							{"QBM1": "AI1"}
						],
						"description": "Wärmerückgewinnungsgrad",
						"python_function": "calc_wrg"
					}
				]
			},
			{
				"title": "Allgemein",
				"sources": [
					{
						"port": [ {"QBM1": "P1"} ],
						"description": "ZUL. Filter Druckdifferenz"
					},
					{
						"port": [ {"QBM1": "P2"} ],
						"description": "ABL. Filter Druckdifferenz"
					},
					{
						"port": [ {"QBM1": "AI1"} ],
						"description": "Frostschutz Temperatur"
					},
					{
						"port": [ {"QBM1": "AO1"} ],
						"description": "AUL. Klappe",
						"python_function": "flap_position"
					},
					{
						"port": [ {"QBM1": "AO2"} ],
						"description": "WRG. Relais",
						"python_function": "relay_position",
						"additional_info": {"switching_voltage": 8}
					}
				]
			},
			{
				"title": "Ventilator Abluft",
				"sources": [
					{
						"port": [
							{"EBM1": "RPMreal"},
							{"EBM1": "RPMmax"}
						],
						"description": "Drehzahl Istwert",
						"python_function": "calc_rpm"
					},
					{
						"port": [
							{"EBM1": "RPMtarget"},
							{"EBM1": "RPMmax"}
						],
						"description": "Drehzahl Sollwert",
						"python_function": "calc_rpm"
					},
					{
						"port": [
							{"EBM1": "Power"},
							{"EBM1": "Uz"},
							{"EBM1": "Iz"}
						],
						"description": "Leistung",
						"python_function": "calc_power"
					},
					{
						"port": [ {"QBM1": "P1"} ],
						"description": "Volumen",
						"python_function": "calc_volume",
						"additional_info": {"k-faktor": 116}
					},
					{
						"port": [ {"EBM1": "EngStatus"} ],
						"description": "Motorstatus",
						"python_function": "eng_status"
					}
				]
			}
		],
		"devices": [
			{
				"device": "QBM97XX",
				"id": "QBM1",
				"baud_rate": 19200,
				"mbaddress": 41,
				"parity": "even",
				"stop_bits": 1,
				"zero_based": false,
				"sensors": [
					{
						"port": "P1",
						"type": "standardQBM"
					},
					{
						"port": "P2",
						"type": "standardQBM"
					},
					{
						"port": "AI1",
						"type": "LG-NI1000"
					},
					{
						"port": "AI2",
						"type": "LG-NI1000"
					}
				]
			},
			{
				"device": "EBM",
				"id": "EBM1",
				"baud_rate": 19200,
				"mbaddress": 33,
				"parity": "even",
				"stop_bits": 1,
				"zero_based": true
			}
		]
	}
]
\end{jsoncode}
